### function 名稱

`generate_data_report`

---

### function 用途

根據歷史交易紀錄計算績效指標（如勝率、獲利因子、總損益、交易次數等），並回傳報表統計結果。

---

### function 參數

| 參數名稱 | 型別 | 備註說明 |
|----------|------|----------|
| 無       | 無   | 函式內部將直接取用 clientpost 物件中的歷史交易資料，不需傳入參數 |

---

### function 回傳內容

| 欄位名稱 | 型別    | 說明                               |
|----------|--------|-----------------------------------|
| `status` | bool   | 是否成功產生報表                   |
| `data`   | dict   | 報表原始資料內容（status = True）, 依照使用者權限顯示不同資料   |
| `error`  | str    | 錯誤訊息（status = False）         |

data格式如下：

```python
return {
            "data_source": dataframe,
            "一般數據": {
                "總損益": -1389.86,
                "交易次數": 13
            },
            "勝率與虧損率":{
                "勝率":30.77,
                "虧損率":69.23
            },
            "最大回撤趨勢":{
                "最大回撤 (%)":{
                    "2020":-0.0,
                    "2021":10903.930817608712,
                    "2022":8785.534591193882,
                    "2023":9776.572327042826,
                    "2024":10826.57232704269
                }
            },
            "累積報酬折線圖":{
                "累積報酬 (%)":{
                    "2020":-14.210600000000007,
                    "2021":-13.99699999999999,
                    "2022":-12.491599999999998,
                    "2023":-12.563000000000008,
                    "2024":-13.8986
                }
            },
            "績效指標":{
                "交易次數":13,
                "勝率":30.77,
                "最大回撤":15.22,
                "盈虧比":0.29,
                "總報酬率":-13.9
            }
        }
        
```

---

### 💡 範例程式碼

```python
mas_client = MASClient()
kpi_result = mas_client.generate_data_report()

if kpi_result:
    print("總損益：", kpi_result["total_profit"])
    print("勝率：", kpi_result["win_rate"])
else:
    print("產生報表失敗")

```