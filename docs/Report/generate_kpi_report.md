### function åç¨±

`generate_kpi_report`

---

### function ç”¨é€”

æ ¹æ“šæ­·å²äº¤æ˜“ç´€éŒ„ï¼Œè¨ˆç®—æ ¸å¿ƒç¸¾æ•ˆæŒ‡æ¨™ï¼ˆKPIï¼‰ï¼ŒåŒ…å«å‹ç‡ã€ç²åˆ©å› å­ã€äº¤æ˜“æ¬¡æ•¸ã€å ±é…¬é¢¨éšªæ¯”ç­‰è©•ä¼°æŒ‡æ¨™ã€‚  
æœ¬å‡½å¼æœƒå‘å¾Œç«¯ API `/backtest/gen_kpi_report` ç™¼é€ POST è«‹æ±‚ï¼Œå–å¾—è¨ˆç®—çµæœã€‚

---

### function åƒæ•¸

| åƒæ•¸åç¨± | å‹åˆ¥ | å‚™è¨»èªªæ˜ |
|----------|------|----------|
| ç„¡       | ç„¡   | å‡½å¼æœƒè‡ªå‹•å¾å…§éƒ¨äº¤æ˜“æ­·å²ä¾†æºç”¢ç”Ÿå ±è¡¨ï¼Œç„¡éœ€å‚³å…¥åƒæ•¸ |

---

### function å›å‚³å…§å®¹

| åç¨±   | å‹åˆ¥ | å‚™è¨»èªªæ˜                                                |
|--------|------|---------------------------------------------------------|
| return | dict | å›å‚³ KPI å ±è¡¨å…§å®¹çš„å­—å…¸ï¼Œæ¬„ä½åŒ…å« win_rateã€profit_factorã€max_drawdown ç­‰ç¸¾æ•ˆçµ±è¨ˆé …ç›®ï¼Œå¯¦éš›æ ¼å¼ä¾ gen_kpi_report() å¯¦ä½œè€Œå®š |

å›å‚³æ ¼å¼ï¼š

```python
{
    "total_trades": 32,
    "win_rate": 0.72,
    "profit_factor": 2.15,
    "average_win": 320.5,
    "average_loss": -180.3,
    "expectancy": 85.7,
    "max_drawdown": -3100.0
}
```

---

### ğŸ’¡ ç¯„ä¾‹ç¨‹å¼ç¢¼

```python
kpi = engine.generate_kpi_report()
if kpi:
    print("å‹ç‡ï¼š", kpi["win_rate"])
    print("ç²åˆ©å› å­ï¼š", kpi["profit_factor"])
else:
    print("KPI å ±è¡¨ç”¢ç”Ÿå¤±æ•—")
```